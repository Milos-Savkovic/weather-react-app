(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(204)},105:function(e,t,a){},110:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),c=a.n(i),o=(a(105),a(40)),s=a(41),u=a(46),l=a(42),m=a(47),h=(a(67),a(108),a(33)),p=a(207),d=a(205),y=(a(110),p.a.Search),f=function(e){var t=e.getWeather,a=e.searchValue,n=e.handleSearchInput;return r.a.createElement("div",null,r.a.createElement(y,{placeholder:"Search for a city",value:a,onChange:n,type:"text",name:"weatherValue",style:{width:200}}),r.a.createElement("br",null),r.a.createElement(d.a,{onClick:t,className:"main"},"Submit"))},w=a(35),v=a.n(w),g=(a(180),a(182),a(206)),E=function(e){var t=e.id,a=e.temp,n=e.humidity,i=e.pressure,c=e.maxTemp,o=e.minTemp,s=e.cityName,u=e.removeCityHandler;return r.a.createElement("div",{className:"card-wrapper"},r.a.createElement(g.a,{title:s,className:"card"},r.a.createElement("p",null,"Temp: ",a),r.a.createElement("p",null,"Humidity: ",n),r.a.createElement("p",null,"Pressure: ",i),r.a.createElement("p",null,"MaxTemp: ",c),r.a.createElement("p",null,"MinTemp: ",o)),r.a.createElement("span",{className:"close",onClick:function(){return u(t)}},"x"))},b=function(e){e.showCard;var t=e.weatherData,a=e.removeCityHandler;return r.a.createElement("div",{className:"container"},t.map(function(e){return r.a.createElement(E,{key:e.id,id:e.id,temp:e.weather,humidity:e.humidity,pressure:e.pressure,maxTemp:e.maxTemp,minTemp:e.minTemp,cityName:e.cityName,removeCityHandler:a})}))},S=(a(202),function(e){return r.a.createElement("div",{className:"loader"},"Loading ...")}),C="http://api.openweathermap.org/data/2.5/weather?q=",j="&appid=9c032a32e98184017aa37fbf6e37538a",N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={showCard:!1,weatherData:[],loading:!1,searchValue:""},a.handleSearchInput=function(e){a.setState({searchValue:e.target.value})},a.removeCityHandler=function(e){a.setState({loading:!0}),v.a.delete("https://weather-app-add29.firebaseio.com/cities/".concat(e,".json")).then(function(e){if(200===e.status)return a.getCity();a.setState({loading:!1})})},a.getWeather=function(e){e.preventDefault();var t=Object(h.a)(Object(h.a)(a)),n=t.state.searchValue,r=t.getCity;n&&v.a.get(C+n+j).then(function(e){var t=e.data.main,n=t.temp,i=t.humidity,c=t.pressure,o=t.temp_max,s=t.temp_min,u={weather:Math.round(n-273.15),cityHumidity:Math.round(i),cityPressure:Math.round(c),maxTemp:Math.round(o-273.15),minTemp:Math.round(s-273.15),cityName:e.data.name};a.setState({showCard:!0}),v.a.post("https://weather-app-add29.firebaseio.com/cities.json",{cityStatus:u}).then(function(e){200===e.status&&r()}).catch(function(e){console.log("ERROR",e)})}).catch(function(e){a.setState({error:e})})},a.getCity=function(){a.setState({loading:!0}),v.a.get("https://cors-anywhere.herokuapp.com/".concat("https://weather-app-add29.firebaseio.com/cities.json")).then(function(e){if(200!==e.status)throw Error(e.statusText);return e}).then(function(e){var t=e.data,n=void 0===t?null:t;if(n){var r=Object.keys(n).map(function(e){return{id:e,weather:n[e].cityStatus.weather,humidity:n[e].cityStatus.cityHumidity,pressure:n[e].cityStatus.cityPressure,maxTemp:n[e].cityStatus.maxTemp,minTemp:n[e].cityStatus.minTemp,cityName:n[e].cityStatus.cityName}});a.setState({weatherData:r.reverse(),loading:!1})}}).catch(function(e){console.log("error",e)})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.getCity()}},{key:"render",value:function(){var e=this.state,t=e.showCard,a=e.weatherData,n=e.loading,i=e.searchValue,c=this.getWeather,o=this.handleSearchInput;return n?r.a.createElement(S,null):r.a.createElement("div",{className:"main-wrapper"},r.a.createElement(f,{getWeather:c,handleSearchInput:o,searchValue:i}),r.a.createElement(b,{weatherData:a,showCard:t,removeCityHandler:this.removeCityHandler}))}}]),t}(n.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{className:"App-title"},"Weather forecast"),r.a.createElement(N,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},67:function(e,t,a){}},[[100,2,1]]]);
//# sourceMappingURL=main.b70101f2.chunk.js.map